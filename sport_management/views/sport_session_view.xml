<odoo>
    <data>
        <record model="ir.ui.view" id="view_session_calendar">
            <field name="name">sport.session.calendar</field>
            <field name="model">sport.session</field>
            <field eval="1" name="priority"/>
            <field name="arch" type="xml">
                <calendar date_start="start_date" date_stop="end_date" string="Sport session" color="room">
                    <field name="activity_id"/>
                    <field name="coach_id"/>
                    <field name="remaining_places"/>
                </calendar>
            </field>
        </record>

        <!-- sport.session seach view -->
        <record id="sport_badge_view_search" model="ir.ui.view">
            <field name="name">sport.badge.view.search</field>
            <field name="model">sport.badge</field>
            <field name="arch" type="xml">
                <search string="Search badges">
                    <field name="account_id" operator="=" />
                </search>
            </field>
        </record>


        <!-- sport.session form view -->
        <record id="sport_session_view_form" model="ir.ui.view">
            <field name="name">sport.session.view.form</field>
            <field name="model">sport.session</field>
            <field name="arch" type="xml">
                <form string="">
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" name="%(action_session_a_list)d" type="action"
                                    icon="fa-times-circle">
                                <field string="Absend" name="absent_attendee_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="%(action_session_v_list)d" type="action"
                                    icon="fa-check-square">
                                <field string="Valid" name="valid_attendee_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="%(action_session_s_list)d" type="action"
                                    icon="fa-user-circle">
                                <field string="Subscribers" name="attendee_count" widget="statinfo" />
                            </button>
                            <button class="oe_stat_button" name="%(action_session_w_list)d" type="action"
                                    icon="fa-pause">
                                <field string="Waiting" name="waiting_attendee_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="%(action_session_c_list)d" type="action"
                                    icon="fa-pause">
                                <field string="Canceled" name="canceled_attendee_count" widget="statinfo"/>
                            </button>
                        </div>
                        <group>
                            <field name="name"/>
                            <field name="activity_id"/>
                            <field name="start_date"/>
                            <field name="end_date"/>
                            <!-- <field name="coach_id"/> -->
                            <field name="coach_id"  domain="[('is_coach','=', True)]"/>
                            <field name="max_attendee" />
                            <field name="room"/>
                            <button name="update_absent_credit_count" type="object">Test cron</button>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <!-- Wizard -->

        <record id="sport_subscription_wizard_view_form" model="ir.ui.view">
            <field name="name">sport.subscription_wizard.view.form</field>
            <field name="model">sport.subscription_wizard</field>
            <field name="arch" type="xml">
                <form string="Générer planning">
                    <sheet>
                        <group>
                            <field name="client_ids" />
                            <field name="session_ids">
                                <tree>
                                    <field name="activity_id" />
                                    <field name="start_date" />
                                </tree>
                            </field>
                        </group>
                        <footer>
                        <button name="subscribe_client" type="object" string="Inscrire" class="oe_highlight"/>
                        or
                        <button special="cancel" string="Cancel"/>
                    </footer>
                    </sheet>
                </form>
            </field>
        </record>

        <act_window id="launch_session_wizard"
            name="Inscrire"
            src_model="sport.session"
            res_model="sport.subscription_wizard"
            view_mode="form"
            target="new"
            key2="client_action_multi"/>
    </data>
</odoo>